flowchart LR
    classDef awsNode fill:#232F3E,stroke:#F90,stroke-width:2px,color:#FFF;
    classDef userNode fill:#FF9900,stroke:#333,stroke-width:2px,color:#000;

    subgraph "Trafego Web"
        A["Usuario Internet"]
    end

    subgraph "Servicos AWS"
        B["CloudFront / ALB / API Gateway"]
        C["AWS WAF Web ACL"]
    end

    subgraph "Regras"
        D["Managed Rules OWASP Top 10"]
        E["Custom Rules Rate Limiting"]
    end

    F["Bloqueio de Ataques"]
    G["CloudWatch Logs - Monitoramento"]

    A:::userNode --> B:::awsNode
    B --> C:::awsNode
    C --> D:::awsNode
    C --> E:::awsNode
    D --> F:::awsNode
    E --> F:::awsNode
    F --> G:::awsNode
